"use strict";const i=require("path"),n=require("electron"),{Menu:r}=require("electron"),{dialog:l}=require("electron"),u=[{label:"帮助",submenu:[{label:"检查更新"},{label:"关于",click:f}]}];function f(){l.showMessageBox({message:"https://github.com/codeFreeDom-B/Electron-vue",type:"info",buttons:["关闭"],title:"关于",detail:"",cancelId:0})}const m=r.buildFromTemplate(u),p=require("fs");let e;n.Menu.setApplicationMenu(m);n.app.whenReady().then(()=>{e=new n.BrowserWindow({width:1200,height:700,transparent:!0,frame:!1,resizable:!1,webPreferences:{nodeIntegration:!0,contextIsolation:!1,webSecurity:!1}}),n.ipcMain.on("save-file",function(w,t){const{fileData:s,fileName:a}=t,c=i.join(n.app.getPath("userData"),`${a}`);p.writeFile(c,Buffer.from(s),o=>{if(o){console.error("err:",o);return}console.log("success")})}),n.ipcMain.on("window-close",function(){e.close()}),n.ipcMain.on("window-min",function(){e.minimize()}),n.ipcMain.on("window-max",function(){e.maximize()}),n.ipcMain.on("window-restore",function(){e.unmaximize()}),e.webContents.openDevTools(),process.env.VITE_DEV_SERVER_URL?(e.webContents.openDevTools(),e.loadURL(process.env.VITE_DEV_SERVER_URL)):e.loadFile(i.join(__dirname,"../dist/index.html"))});
